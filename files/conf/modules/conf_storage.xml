<!DOCTYPE module SYSTEM "module.dtd">
<module name="conf_storage" dir="conf" task="default">
  <doc>
    <description>Store the compressed conf in the flash, and send it to the ground on request.</description>
  </doc>
  <dep>
    <depends>@telemetry</depends>
  </dep>
  <header>
    <file name="conf_storage.h"/>
  </header>
  <init fun="conf_storage_init()"/>
  <datalink fun="conf_storage_datalink(buf)" message="SETTING"/>
  <makefile>
    <configure name="CONF_FILENAME"/>
    <file name="conf_storage.c"/>
    <raw>
$(shell touch /tmp/plop)
#conf_storage:
#	echo "plop" | xxd -i $(REDIRECT) /tmp/plop.c
    </raw>
    <test/>
  </makefile>
</module>
